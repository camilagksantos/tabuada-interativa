import{a as S}from"./chunk-33CVHZBG.js";import{A as _,B as h,F as p,I as d,K as v,L as n,M as e,O as C,P as m,Q as g,S as i,T as c,U as u,ga as b,ha as O,ia as P,ma as M,o as f,p as x,x as a}from"./chunk-K3FAVN74.js";function D(s,o){if(s&1){let t=C();n(0,"button",7),m("click",function(){f(t);let l=g();return x(l.limparTudo())}),i(1," \u{1F5D1}\uFE0F Limpar Tudo "),e()}}function q(s,o){s&1&&(n(0,"div",8)(1,"p"),i(2,"\u{1F4ED} Nenhuma partida registrada ainda!"),e(),n(3,"p"),i(4,"Jogue para come\xE7ar seu hist\xF3rico."),e()())}function y(s,o){if(s&1&&(n(0,"div",25)(1,"span",26),i(2),e(),n(3,"span",27),i(4),e(),n(5,"span",28),i(6),e(),n(7,"span",29),i(8),e(),n(9,"span",30),i(10),e()()),s&2){let t=o.$implicit,r=o.index;v("correta",t.correta)("incorreta",!t.correta),a(2),c(r+1),a(2),u("",t.pergunta," = ?"),a(2),c(t.respostaUsuario),a(2),u("\u23F1\uFE0F ",t.tempoSegundos,"s"),a(2),c(t.correta?"\u2713":"\u2717")}}function k(s,o){if(s&1){let t=C();n(0,"div",9)(1,"div",10)(2,"h2"),i(3),e(),n(4,"button",11),m("click",function(){let l=f(t).$implicit,w=g();return x(w.deletarPartida(l.id))}),i(5," \u274C "),e()(),n(6,"div",12)(7,"div",13)(8,"span",14),i(9,"\u{1F4C5} Data:"),e(),n(10,"span",15),i(11),e()(),n(12,"div",13)(13,"span",14),i(14,"\u{1F4DA} Tabuadas:"),e(),n(15,"span",15),i(16),e()(),n(17,"div",13)(18,"span",14),i(19,"\u{1F3B2} Modo:"),e(),n(20,"span",15),i(21),e()(),n(22,"div",13)(23,"span",14),i(24,"\u23F1\uFE0F Tempo Total:"),e(),n(25,"span",15),i(26),e()()(),n(27,"div",16)(28,"div",17)(29,"span",18),i(30),e(),n(31,"span",19),i(32,"Acertos \u2B50"),e()(),n(33,"div",20)(34,"span",18),i(35),e(),n(36,"span",19),i(37,"Erros \u274C"),e()(),n(38,"div",21)(39,"span",18),i(40),e(),n(41,"span",19),i(42,"Aproveitamento"),e()()(),n(43,"details",22)(44,"summary"),i(45,"Ver quest\xF5es detalhadas"),e(),n(46,"div",23),p(47,y,11,9,"div",24),e()()()}if(s&2){let t=o.$implicit,r=g();a(3),c(t.nomeJogador),a(8),c(r.formatarData(t.data)),a(5),c(t.tabuadas.join(", ")),a(5),c(t.modoAleatorio?"Aleat\xF3rio":"Sequencial"),a(5),c(r.formatarTempo(t.tempoTotalSegundos)),a(4),c(t.acertos),a(5),c(t.erros),a(5),u("",(t.acertos/(t.acertos+t.erros)*100).toFixed(0),"%"),a(7),d("ngForOf",t.questoes)}}var E=class s{constructor(o,t){this.historicoService=o;this.router=t}partidas=[];ngOnInit(){this.carregarHistorico()}carregarHistorico(){this.partidas=this.historicoService.obterHistorico(),this.partidas.sort((o,t)=>new Date(t.data).getTime()-new Date(o.data).getTime())}formatarData(o){return new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatarTempo(o){let t=Math.floor(o/60),r=o%60;return`${t}min ${r}s`}deletarPartida(o){confirm("Deseja realmente deletar esta partida?")&&(this.historicoService.deletarPartida(o),this.carregarHistorico())}limparTudo(){confirm("Deseja realmente limpar TODO o hist\xF3rico?")&&(this.historicoService.limparHistorico(),this.carregarHistorico())}voltarHome(){this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||s)(_(S),_(M))};static \u0275cmp=h({type:s,selectors:[["app-historico"]],decls:10,vars:3,consts:[[1,"historico-container"],[1,"historico-header"],[1,"btn-voltar",3,"click"],["class","btn-limpar",3,"click",4,"ngIf"],[1,"historico-content"],["class","vazio",4,"ngIf"],["class","partida-card",4,"ngFor","ngForOf"],[1,"btn-limpar",3,"click"],[1,"vazio"],[1,"partida-card"],[1,"partida-header"],[1,"btn-deletar",3,"click"],[1,"partida-info"],[1,"info-item"],[1,"label"],[1,"valor"],[1,"partida-resultado"],[1,"resultado-item","acertos"],[1,"numero"],[1,"texto"],[1,"resultado-item","erros"],[1,"resultado-item","percentual"],[1,"questoes-detalhes"],[1,"questoes-lista"],["class","questao-item",3,"correta","incorreta",4,"ngFor","ngForOf"],[1,"questao-item"],[1,"questao-numero"],[1,"questao-pergunta"],[1,"questao-resposta"],[1,"questao-tempo"],[1,"questao-status"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),m("click",function(){return r.voltarHome()}),i(3," \u2190 Voltar "),e(),n(4,"h1"),i(5,"\u{1F4CA} Hist\xF3rico de Partidas"),e(),p(6,D,2,0,"button",3),e(),n(7,"div",4),p(8,q,5,0,"div",5)(9,k,48,9,"div",6),e()()),t&2&&(a(6),d("ngIf",r.partidas.length>0),a(2),d("ngIf",r.partidas.length===0),a(),d("ngForOf",r.partidas))},dependencies:[P,b,O],styles:[".historico-container[_ngcontent-%COMP%]{min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Comic Sans MS,cursive}.historico-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1000px;margin:0 auto 30px;flex-wrap:wrap;gap:15px}.historico-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5em;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.3);flex:1;text-align:center}.btn-voltar[_ngcontent-%COMP%], .btn-limpar[_ngcontent-%COMP%]{padding:12px 25px;font-size:1.1em;font-weight:700;border:none;border-radius:12px;cursor:pointer;font-family:Comic Sans MS,cursive;transition:all .3s;box-shadow:0 4px 10px #0003}.btn-voltar[_ngcontent-%COMP%]:hover, .btn-limpar[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 15px #0000004d}.btn-voltar[_ngcontent-%COMP%]:active, .btn-limpar[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-voltar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);color:#fff}.btn-limpar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff}.historico-content[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.vazio[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:60px 40px;text-align:center;box-shadow:0 10px 30px #0003}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#666;margin:10px 0}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:2em;font-weight:700;color:#333}.partida-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px;margin-bottom:25px;box-shadow:0 10px 30px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.partida-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #0000004d}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.partida-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:3px solid #f0f0f0}.partida-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff69b4;font-size:2em;margin:0}.btn-deletar[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5em;cursor:pointer;transition:all .3s;padding:5px}.btn-deletar[_ngcontent-%COMP%]:hover{transform:scale(1.3) rotate(10deg)}.partida-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:15px;background:#f8f9fa;border-radius:12px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin-bottom:5px;font-weight:700}.info-item[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:1.1em;color:#333;font-weight:700}.partida-resultado[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:20px}.resultado-item[_ngcontent-%COMP%]{padding:20px;border-radius:15px;text-align:center;box-shadow:0 4px 10px #0000001a}.resultado-item.acertos[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb)}.resultado-item.erros[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb)}.resultado-item.percentual[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffe69c)}.resultado-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{display:block;font-size:2.5em;font-weight:700;color:#333}.resultado-item[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{display:block;font-size:1em;color:#666;margin-top:5px}.questoes-detalhes[_ngcontent-%COMP%]{margin-top:20px;border-top:2px solid #f0f0f0;padding-top:20px}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#667eea;cursor:pointer;padding:10px;border-radius:10px;transition:all .3s}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{background:#f0f0f0}.questoes-lista[_ngcontent-%COMP%]{margin-top:15px;display:flex;flex-direction:column;gap:10px}.questao-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 1fr 80px 80px 40px;gap:10px;align-items:center;padding:12px;border-radius:10px;font-size:1em}.questao-item.correta[_ngcontent-%COMP%]{background:#d4edda}.questao-item.incorreta[_ngcontent-%COMP%]{background:#f8d7da}.questao-item[_ngcontent-%COMP%]   .questao-numero[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:#666}.questao-item[_ngcontent-%COMP%]   .questao-pergunta[_ngcontent-%COMP%]{font-weight:700;color:#333}.questao-item[_ngcontent-%COMP%]   .questao-resposta[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#667eea}.questao-item[_ngcontent-%COMP%]   .questao-tempo[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9em}.questao-item[_ngcontent-%COMP%]   .questao-status[_ngcontent-%COMP%]{font-size:1.5em;text-align:center}@media (max-width: 768px){.historico-header[_ngcontent-%COMP%]{flex-direction:column}.historico-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;order:-1}.historico-header[_ngcontent-%COMP%]   .btn-voltar[_ngcontent-%COMP%]{order:1}.historico-header[_ngcontent-%COMP%]   .btn-limpar[_ngcontent-%COMP%]{order:2}.historico-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.partida-resultado[_ngcontent-%COMP%]{grid-template-columns:1fr}.questao-item[_ngcontent-%COMP%]{grid-template-columns:30px 1fr 60px 60px 30px;font-size:.9em}}"]})};export{E as HistoricoComponent};

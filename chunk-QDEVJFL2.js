import{f as A,g as F}from"./chunk-XB3JP5NP.js";import{a as Q}from"./chunk-33CVHZBG.js";import{$ as D,A as _,B as x,F as h,I as m,J as C,L as o,M as n,N as k,O as f,P as l,Q as d,R as y,S as s,T as b,U as g,V as v,_ as S,ga as I,ha as E,ia as M,ma as z,o as p,p as u,r as w,x as r}from"./chunk-K3FAVN74.js";var P=class c{acertos=0;erros=0;totalQuestoes=10;mensagem="";mensagemCor="#4CAF50";reiniciar=new w;voltarHome=new w;get percentual(){return Math.round(this.acertos/this.totalQuestoes*100)}onReiniciar(){this.reiniciar.emit()}onVoltarHome(){this.voltarHome.emit()}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=x({type:c,selectors:[["app-feedback"]],inputs:{acertos:"acertos",erros:"erros",totalQuestoes:"totalQuestoes",mensagem:"mensagem",mensagemCor:"mensagemCor"},outputs:{reiniciar:"reiniciar",voltarHome:"voltarHome"},decls:25,vars:6,consts:[[1,"feedback-overlay"],[1,"resultado-card"],[1,"resultado-info"],[1,"score-final"],[1,"score-item","acertos"],[1,"score-numero"],[1,"score-label"],[1,"score-item","erros"],[1,"mensagem-final"],[1,"percentual"],[1,"botoes-finais"],[1,"btn-reiniciar",3,"click"],[1,"btn-home",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),s(3,"\u{1F3AE} Jogo Finalizado!"),n(),o(4,"div",2)(5,"div",3)(6,"div",4)(7,"span",5),s(8),n(),o(9,"span",6),s(10,"Acertos \u2B50"),n()(),o(11,"div",7)(12,"span",5),s(13),n(),o(14,"span",6),s(15,"Erros \u274C"),n()()(),o(16,"div",8),s(17),n(),o(18,"div",9),s(19),n()(),o(20,"div",10)(21,"button",11),l("click",function(){return e.onReiniciar()}),s(22," \u{1F504} Jogar Novamente "),n(),o(23,"button",12),l("click",function(){return e.onVoltarHome()}),s(24," \u{1F3E0} Voltar ao In\xEDcio "),n()()()()),t&2&&(r(8),b(e.acertos),r(5),b(e.erros),r(3),C("color",e.mensagemCor),r(),g(" ",e.mensagem," "),r(2),g(" ",e.percentual,"% de aproveitamento "))},dependencies:[M],styles:[".feedback-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#667eeaf2;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.resultado-card[_ngcontent-%COMP%]{background:#fff;border-radius:30px;padding:50px 40px;max-width:600px;width:90%;text-align:center;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.68,-.55,.265,1.55);font-family:Nunito,Comic Sans MS,cursive,sans-serif}.resultado-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff69b4;font-size:2.5em;margin:0 0 30px;text-shadow:2px 2px 4px rgba(0,0,0,.1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}.resultado-info[_ngcontent-%COMP%]{margin-bottom:30px}.score-final[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:30px;gap:20px}.score-item[_ngcontent-%COMP%]{flex:1;padding:25px 20px;border-radius:20px;box-shadow:0 5px 15px #0000001a;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.score-item.acertos[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);animation-delay:.1s}.score-item.erros[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb);animation-delay:.2s}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.score-numero[_ngcontent-%COMP%]{display:block;font-size:3.5em;font-weight:700;color:#333;margin-bottom:5px}.score-label[_ngcontent-%COMP%]{display:block;font-size:1.2em;color:#666;font-weight:700}.mensagem-final[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin-bottom:20px;padding:20px;border-radius:15px;background:#ffeb3b33;line-height:1.4;animation:_ngcontent-%COMP%_fadeIn .5s ease-out .3s both}.percentual[_ngcontent-%COMP%]{font-size:2em;font-weight:700;color:#667eea;animation:_ngcontent-%COMP%_fadeIn .5s ease-out .4s both}.botoes-finais[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;margin-top:30px}.botoes-finais[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:200px;padding:18px;font-size:1.3em;font-weight:700;border:none;border-radius:15px;cursor:pointer;transition:all .3s;font-family:Comic Sans MS,cursive;box-shadow:0 5px 15px #0003;color:#fff}.botoes-finais[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #0000004d}.botoes-finais[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-reiniciar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);animation:_ngcontent-%COMP%_slideUp .5s ease-out .5s both}.btn-home[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);animation:_ngcontent-%COMP%_slideUp .5s ease-out .6s both}@media (max-width: 600px){.resultado-card[_ngcontent-%COMP%]{padding:40px 30px}.resultado-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.score-final[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.score-numero[_ngcontent-%COMP%]{font-size:3em}.score-label[_ngcontent-%COMP%]{font-size:1.1em}.mensagem-final[_ngcontent-%COMP%]{font-size:1.3em;padding:15px}.percentual[_ngcontent-%COMP%]{font-size:1.6em}.botoes-finais[_ngcontent-%COMP%]{flex-direction:column}.botoes-finais[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100%;font-size:1.2em}}"]})};var T=()=>[1,2,3,4,5,6,7,8,9];function U(c,i){if(c&1){let t=f();o(0,"button",6),l("click",function(){p(t);let a=d();return u(a.voltarAoInicio())}),s(1," \u{1F3E0} "),n()}}function J(c,i){if(c&1&&(o(0,"span"),s(1),n()),c&2){let t=d(2);r(),b(t.respostaUsuario)}}function j(c,i){c&1&&(o(0,"span",22),s(1,"Digite a resposta"),n())}function R(c,i){if(c&1){let t=f();o(0,"button",20),l("click",function(){let a=p(t).$implicit,O=d(2);return u(O.adicionarNumero(a))}),s(1),n()}if(c&2){let t=i.$implicit,e=d(2);m("disabled",e.botoesDesabilitados),r(),g(" ",t," ")}}function N(c,i){if(c&1){let t=f();o(0,"div",7)(1,"div",8)(2,"div",9)(3,"span"),s(4),n(),o(5,"span"),s(6),n()(),o(7,"div",10),k(8,"div",11),n()(),o(9,"div",12)(10,"h1",13),s(11),n()(),o(12,"div",14),h(13,J,2,1,"span",15)(14,j,2,0,"ng-template",null,0,D),n(),o(16,"div",16)(17,"div",17),h(18,R,2,2,"button",18),o(19,"button",19),l("click",function(){p(t);let a=d();return u(a.apagarUltimo())}),s(20," \u232B "),n(),o(21,"button",20),l("click",function(){p(t);let a=d();return u(a.adicionarNumero(0))}),s(22," 0 "),n(),o(23,"button",19),l("click",function(){p(t);let a=d();return u(a.limparResposta())}),s(24," C "),n()(),o(25,"button",21),l("click",function(){p(t);let a=d();return u(a.verificarResposta())}),s(26," \u2713 Confirmar "),n()()()}if(c&2){let t=y(15),e=d();r(4),v("Quest\xE3o ",e.questoesConcluidas+1," de ",e.totalQuestoes,""),r(2),v("\u2B50 ",e.acertos," | \u274C ",e.erros,""),r(2),C("width",e.getProgresso(),"%"),r(3),v("",e.numeroAtual," \xD7 ",e.multiplicadorAtual," = ?"),r(2),m("ngIf",e.respostaUsuario)("ngIfElse",t),r(5),m("ngForOf",S(15,T)),r(),m("disabled",e.botoesDesabilitados),r(2),m("disabled",e.botoesDesabilitados),r(2),m("disabled",e.botoesDesabilitados),r(2),m("disabled",e.botoesDesabilitados||e.respostaUsuario==="")}}function H(c,i){if(c&1){let t=f();o(0,"app-feedback",23),l("reiniciar",function(){p(t);let a=d();return u(a.reiniciarJogo())})("voltarHome",function(){p(t);let a=d();return u(a.voltarAoInicio())}),n()}if(c&2){let t=d();m("acertos",t.acertos)("erros",t.erros)("totalQuestoes",t.totalQuestoes)("mensagem",t.mensagem)("mensagemCor",t.mensagemCor)}}var V=class c{constructor(i,t,e){this.router=i;this.gameState=t;this.historicoService=e}nomeJogador="";tabuadasDisponiveis=[];modoAleatorio=!1;numeroAtual=0;multiplicadorAtual=0;respostaUsuario="";respostaCorreta=0;acertos=0;erros=0;questoesConcluidas=0;totalQuestoes=10;mensagem="";mensagemCor="black";jogoIniciado=!1;jogoFinalizado=!1;botoesDesabilitados=!1;tempoInicioQuestao=0;tempoInicioPartida=0;questoesRespondidas=[];questoesGeradas=new Set;ngOnInit(){let i=this.gameState.getDadosJogo();if(i.tabuadasSelecionadas.length===0){this.router.navigate(["/home"]);return}this.nomeJogador=i.nomeJogador,this.tabuadasDisponiveis=i.tabuadasSelecionadas,this.modoAleatorio=i.modoAleatorio,this.iniciarJogo()}iniciarJogo(){this.acertos=0,this.erros=0,this.questoesConcluidas=0,this.jogoIniciado=!0,this.jogoFinalizado=!1,this.mensagem="",this.questoesGeradas=new Set,this.questoesRespondidas=[],this.tempoInicioPartida=Date.now(),this.proximaQuestao()}reiniciarJogo(){this.iniciarJogo()}voltarAoInicio(){this.gameState.limparDados(),this.router.navigate(["/home"])}proximaQuestao(){if(this.respostaUsuario="",this.botoesDesabilitados=!1,this.mensagem="",this.questoesConcluidas>=this.totalQuestoes){this.finalizarJogo();return}let i=0,t=100;do{if(this.modoAleatorio){let a=Math.floor(Math.random()*this.tabuadasDisponiveis.length);this.numeroAtual=this.tabuadasDisponiveis[a],this.multiplicadorAtual=Math.floor(Math.random()*10)+1}else{let a=this.questoesConcluidas%this.tabuadasDisponiveis.length;this.numeroAtual=this.tabuadasDisponiveis[a],this.multiplicadorAtual=this.questoesConcluidas%10+1}this.respostaCorreta=this.numeroAtual*this.multiplicadorAtual;let e=`${this.numeroAtual}x${this.multiplicadorAtual}`;if(!this.questoesGeradas.has(e)){this.questoesGeradas.add(e);break}i++}while(i<t);this.tempoInicioQuestao=Date.now()}adicionarNumero(i){this.botoesDesabilitados||this.respostaUsuario.length<3&&(this.respostaUsuario+=i.toString())}apagarUltimo(){this.botoesDesabilitados||(this.respostaUsuario=this.respostaUsuario.slice(0,-1))}limparResposta(){this.botoesDesabilitados||(this.respostaUsuario="")}verificarResposta(){if(this.botoesDesabilitados||this.respostaUsuario==="")return;this.botoesDesabilitados=!0;let i=parseInt(this.respostaUsuario),t=Date.now(),e=Math.round((t-this.tempoInicioQuestao)/1e3),a=i===this.respostaCorreta,O={pergunta:`${this.numeroAtual} \xD7 ${this.multiplicadorAtual}`,respostaCorreta:this.respostaCorreta,respostaUsuario:i,correta:a,tempoSegundos:e};this.questoesRespondidas.push(O),a?this.acertos++:this.erros++,this.questoesConcluidas++,this.proximaQuestao()}getProgresso(){return this.questoesConcluidas/this.totalQuestoes*100}finalizarJogo(){this.jogoFinalizado=!0;let i=Date.now(),t=Math.round((i-this.tempoInicioPartida)/1e3),e={id:Date.now().toString(),nomeJogador:this.nomeJogador,data:new Date().toISOString(),tabuadas:this.tabuadasDisponiveis,modoAleatorio:this.modoAleatorio,questoes:this.questoesRespondidas,acertos:this.acertos,erros:this.erros,tempoTotalSegundos:t};this.historicoService.salvarPartida(e),this.acertos>=this.totalQuestoes*.7?(this.mensagem=`\u{1F389} PARAB\xC9NS ${this.nomeJogador.toUpperCase()}! Voc\xEA acertou ${this.acertos} de ${this.totalQuestoes} quest\xF5es!`,this.mensagemCor="#4CAF50"):(this.mensagem=`${this.nomeJogador}, voc\xEA acertou ${this.acertos} de ${this.totalQuestoes}. Continue praticando!`,this.mensagemCor="#ff9800")}static \u0275fac=function(t){return new(t||c)(_(z),_(F),_(Q))};static \u0275cmp=x({type:c,selectors:[["app-game-component"]],decls:7,vars:4,consts:[["placeholder",""],[1,"game-container"],[1,"header"],["class","btn-home-float","title","Voltar ao In\xEDcio",3,"click",4,"ngIf"],["class","game-card",4,"ngIf"],[3,"acertos","erros","totalQuestoes","mensagem","mensagemCor","reiniciar","voltarHome",4,"ngIf"],["title","Voltar ao In\xEDcio",1,"btn-home-float",3,"click"],[1,"game-card"],[1,"progresso-container"],[1,"progresso-info"],[1,"barra-progresso"],[1,"barra-preenchida"],[1,"questao-container"],[1,"questao"],[1,"display-resposta"],[4,"ngIf","ngIfElse"],[1,"teclado-numerico"],[1,"numeros-grid"],["class","btn-numero",3,"disabled","click",4,"ngFor","ngForOf"],[1,"btn-numero","btn-especial",3,"click","disabled"],[1,"btn-numero",3,"click","disabled"],[1,"btn-confirmar",3,"click","disabled"],[1,"placeholder"],[3,"reiniciar","voltarHome","acertos","erros","totalQuestoes","mensagem","mensagemCor"]],template:function(t,e){t&1&&(o(0,"div",1)(1,"div",2)(2,"h2"),s(3),n()(),h(4,U,2,0,"button",3)(5,N,27,16,"div",4)(6,H,1,5,"app-feedback",5),n()),t&2&&(r(3),g("Ol\xE1, ",e.nomeJogador,"! \u{1F44B}"),r(),m("ngIf",e.jogoIniciado&&!e.jogoFinalizado),r(),m("ngIf",e.jogoIniciado&&!e.jogoFinalizado),r(),m("ngIf",e.jogoFinalizado))},dependencies:[M,I,E,A,P],styles:[".game-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Nunito,Comic Sans MS,cursive,sans-serif}.header[_ngcontent-%COMP%]{background:#fff;padding:15px 30px;border-radius:15px;box-shadow:0 5px 15px #0003;margin-bottom:20px;animation:_ngcontent-%COMP%_slideDown .5s ease-out}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#ff69b4;font-size:1.5em;text-align:center}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.game-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px;max-width:500px;width:100%;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.progresso-container[_ngcontent-%COMP%]{margin-bottom:30px}.progresso-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:.95em;color:#666;font-weight:700}.barra-progresso[_ngcontent-%COMP%]{height:20px;background:#e0e0e0;border-radius:10px;overflow:hidden;box-shadow:inset 0 2px 4px #0000001a}.barra-preenchida[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);transition:width .3s ease;border-radius:10px}.questao-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.btn-home-float[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background:linear-gradient(135deg,#ff9800,#f57c00);border:none;border-radius:50%;width:60px;height:60px;font-size:1.8em;cursor:pointer;box-shadow:0 5px 20px #ff980066;transition:all .3s;z-index:1000;animation:_ngcontent-%COMP%_slideDown .5s ease-out}.btn-home-float[_ngcontent-%COMP%]:hover{transform:translateY(-5px) rotate(15deg) scale(1.1);box-shadow:0 8px 25px #ff980099}.btn-home-float[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.questao[_ngcontent-%COMP%]{font-size:3em;color:#333;margin:0;padding:20px;text-align:center;background:linear-gradient(135deg,#fff3cd,#ffe69c);border-radius:15px;box-shadow:0 5px 15px #ffc1074d;animation:_ngcontent-%COMP%_pulse .5s ease-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.95)}50%{transform:scale(1.02)}to{transform:scale(1)}}.display-resposta[_ngcontent-%COMP%]{background:#f8f9fa;border:3px solid #ddd;border-radius:15px;padding:25px;text-align:center;font-size:2.5em;min-height:80px;display:flex;align-items:center;justify-content:center;margin-bottom:30px;transition:all .3s;font-weight:700;color:#333}.display-resposta[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#999;font-size:.6em}.teclado-numerico[_ngcontent-%COMP%]{margin-bottom:20px}.numeros-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:15px}.btn-numero[_ngcontent-%COMP%]{padding:25px;font-size:2em;font-weight:700;border:3px solid #ddd;border-radius:15px;background:linear-gradient(135deg,#fff,#f0f0f0);color:#333;cursor:pointer;transition:all .2s;font-family:Comic Sans MS,cursive;box-shadow:0 4px 8px #0000001a}.btn-numero[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 12px #0003;background:linear-gradient(135deg,#f0f0f0,#e0e0e0)}.btn-numero[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.btn-numero[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-numero.btn-especial[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffe69c,#ffd54f);color:#f57c00;font-size:1.5em}.btn-numero.btn-especial[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ffd54f,#ffc107)}.btn-confirmar[_ngcontent-%COMP%]{width:100%;padding:20px;font-size:1.5em;font-weight:700;border:none;border-radius:15px;background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;cursor:pointer;transition:all .3s;font-family:Comic Sans MS,cursive;box-shadow:0 5px 15px #4caf504d}.btn-confirmar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 20px #4caf5066}.btn-confirmar[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.btn-confirmar[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;box-shadow:none}@media (max-width: 600px){.game-card[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em}.questao[_ngcontent-%COMP%]{font-size:2.2em}.display-resposta[_ngcontent-%COMP%]{font-size:2em;padding:20px}.btn-numero[_ngcontent-%COMP%]{padding:20px;font-size:1.5em}.btn-confirmar[_ngcontent-%COMP%]{font-size:1.2em;padding:15px}}"]})};export{V as GameComponent};

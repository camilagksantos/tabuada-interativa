import{a as q}from"./chunk-33CVHZBG.js";import{A as _,B as O,F as p,I as d,K as P,L as n,M as e,O as C,P as g,Q as l,S as o,T as s,U as u,ga as M,ha as h,ia as b,ma as v,o as x,p as f,x as a}from"./chunk-K3FAVN74.js";function S(c,i){if(c&1){let t=C();n(0,"button",7),g("click",function(){x(t);let m=l();return f(m.limparTudo())}),o(1," \u{1F5D1}\uFE0F Limpar Tudo "),e()}}function E(c,i){c&1&&(n(0,"div",8)(1,"p"),o(2,"\u{1F4ED} Nenhuma partida registrada ainda!"),e(),n(3,"p"),o(4,"Jogue para come\xE7ar seu hist\xF3rico."),e()())}function D(c,i){if(c&1&&(n(0,"div",25)(1,"span",26),o(2),e(),n(3,"span",27),o(4),e(),n(5,"span",28),o(6),e(),n(7,"span",29),o(8),e(),n(9,"span",30),o(10),e()()),c&2){let t=i.$implicit,r=i.index;P("correta",t.correta)("incorreta",!t.correta),a(2),s(r+1),a(2),u("",t.pergunta," = ?"),a(2),s(t.respostaUsuario),a(2),u("\u23F1\uFE0F ",t.tempoSegundos,"s"),a(2),s(t.correta?"\u2713":"\u2717")}}function y(c,i){if(c&1){let t=C();n(0,"div",9)(1,"div",10)(2,"h2"),o(3),e(),n(4,"button",11),g("click",function(){let m=x(t).$implicit,w=l();return f(w.deletarPartida(m.id))}),o(5," \u274C "),e()(),n(6,"div",12)(7,"div",13)(8,"span",14),o(9,"\u{1F4C5} Data:"),e(),n(10,"span",15),o(11),e()(),n(12,"div",13)(13,"span",14),o(14,"\u{1F4DA} Tabuadas:"),e(),n(15,"span",15),o(16),e()(),n(17,"div",13)(18,"span",14),o(19,"\u{1F3B2} Modo:"),e(),n(20,"span",15),o(21),e()(),n(22,"div",13)(23,"span",14),o(24,"\u23F1\uFE0F Tempo Total:"),e(),n(25,"span",15),o(26),e()()(),n(27,"div",16)(28,"div",17)(29,"span",18),o(30),e(),n(31,"span",19),o(32,"Acertos \u2B50"),e()(),n(33,"div",20)(34,"span",18),o(35),e(),n(36,"span",19),o(37,"Erros \u274C"),e()(),n(38,"div",21)(39,"span",18),o(40),e(),n(41,"span",19),o(42,"Aproveitamento"),e()()(),n(43,"details",22)(44,"summary"),o(45,"Ver quest\xF5es detalhadas"),e(),n(46,"div",23),p(47,D,11,9,"div",24),e()()()}if(c&2){let t=i.$implicit,r=l();a(3),s(t.nomeJogador),a(8),s(r.formatarData(t.data)),a(5),s(t.tabuadas.join(", ")),a(5),s(t.modoAleatorio?"Aleat\xF3rio":"Sequencial"),a(5),s(r.formatarTempo(t.tempoTotalSegundos)),a(4),s(t.acertos),a(5),s(t.erros),a(5),u("",(t.acertos/(t.acertos+t.erros)*100).toFixed(0),"%"),a(7),d("ngForOf",t.questoes)}}var z=class c{constructor(i,t){this.historicoService=i;this.router=t}partidas=[];ngOnInit(){this.carregarHistorico()}carregarHistorico(){this.partidas=this.historicoService.obterHistorico(),this.partidas.sort((i,t)=>new Date(t.data).getTime()-new Date(i.data).getTime())}formatarData(i){return new Date(i).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatarTempo(i){let t=Math.floor(i/60),r=i%60;return`${t}min ${r}s`}deletarPartida(i){confirm("Deseja realmente deletar esta partida?")&&(this.historicoService.deletarPartida(i),this.carregarHistorico())}limparTudo(){confirm("Deseja realmente limpar TODO o hist\xF3rico?")&&(this.historicoService.limparHistorico(),this.carregarHistorico())}voltarHome(){this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||c)(_(q),_(v))};static \u0275cmp=O({type:c,selectors:[["app-historico"]],decls:10,vars:3,consts:[[1,"historico-container"],[1,"historico-header"],[1,"btn-voltar",3,"click"],["class","btn-limpar",3,"click",4,"ngIf"],[1,"historico-content"],["class","vazio",4,"ngIf"],["class","partida-card",4,"ngFor","ngForOf"],[1,"btn-limpar",3,"click"],[1,"vazio"],[1,"partida-card"],[1,"partida-header"],[1,"btn-deletar",3,"click"],[1,"partida-info"],[1,"info-item"],[1,"label"],[1,"valor"],[1,"partida-resultado"],[1,"resultado-item","acertos"],[1,"numero"],[1,"texto"],[1,"resultado-item","erros"],[1,"resultado-item","percentual"],[1,"questoes-detalhes"],[1,"questoes-lista"],["class","questao-item",3,"correta","incorreta",4,"ngFor","ngForOf"],[1,"questao-item"],[1,"questao-numero"],[1,"questao-pergunta"],[1,"questao-resposta"],[1,"questao-tempo"],[1,"questao-status"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return r.voltarHome()}),o(3," \u2190 Voltar "),e(),n(4,"h1"),o(5,"\u{1F4CA} Hist\xF3rico de Partidas"),e(),p(6,S,2,0,"button",3),e(),n(7,"div",4),p(8,E,5,0,"div",5)(9,y,48,9,"div",6),e()()),t&2&&(a(6),d("ngIf",r.partidas.length>0),a(2),d("ngIf",r.partidas.length===0),a(),d("ngForOf",r.partidas))},dependencies:[b,M,h],styles:[".historico-container[_ngcontent-%COMP%]{min-height:100vh;padding:10px;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Nunito,Comic Sans MS,cursive,sans-serif}.historico-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-width:1000px;margin:0 auto 20px}.historico-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.3);text-align:center;order:-1}.historico-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.btn-voltar[_ngcontent-%COMP%], .btn-limpar[_ngcontent-%COMP%]{padding:12px 20px;font-size:1em;font-weight:700;border:none;border-radius:12px;cursor:pointer;font-family:Nunito,Comic Sans MS,cursive,sans-serif;transition:all .3s;box-shadow:0 4px 10px #0003}.btn-voltar[_ngcontent-%COMP%]:active, .btn-limpar[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-voltar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);color:#fff}.btn-limpar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff}.historico-content[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.vazio[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:40px 20px;text-align:center;box-shadow:0 10px 30px #0003}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#666;margin:8px 0}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:1.5em;font-weight:700;color:#333}.partida-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:20px;margin-bottom:15px;box-shadow:0 8px 20px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.partida-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}.partida-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff69b4;font-size:1.4em;margin:0}.btn-deletar[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.3em;cursor:pointer;transition:all .3s;padding:5px}.btn-deletar[_ngcontent-%COMP%]:active{transform:scale(1.2) rotate(10deg)}.partida-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:15px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;background:#f8f9fa;border-radius:10px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:4px;font-weight:700}.info-item[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:1em;color:#333;font-weight:700}.partida-resultado[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:15px}.resultado-item[_ngcontent-%COMP%]{padding:15px;border-radius:12px;text-align:center;box-shadow:0 3px 8px #0000001a}.resultado-item.acertos[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb)}.resultado-item.erros[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb)}.resultado-item.percentual[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffe69c)}.resultado-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{display:block;font-size:2em;font-weight:700;color:#333}.resultado-item[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{display:block;font-size:.9em;color:#666;margin-top:3px}.questoes-detalhes[_ngcontent-%COMP%]{margin-top:15px;border-top:2px solid #f0f0f0;padding-top:15px}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1em;font-weight:700;color:#667eea;cursor:pointer;padding:10px;border-radius:8px;transition:all .3s}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{background:#f0f0f0}.questoes-lista[_ngcontent-%COMP%]{margin-top:12px;display:flex;flex-direction:column;gap:8px}.questao-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 1fr 70px;grid-template-rows:auto auto;gap:8px;align-items:center;padding:10px;border-radius:8px;font-size:.85em}.questao-item.correta[_ngcontent-%COMP%]{background:#d4edda}.questao-item.incorreta[_ngcontent-%COMP%]{background:#f8d7da}.questao-item[_ngcontent-%COMP%]   .questao-numero[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:#666;grid-row:1/3}.questao-item[_ngcontent-%COMP%]   .questao-pergunta[_ngcontent-%COMP%]{font-weight:700;color:#333;grid-column:2/3}.questao-item[_ngcontent-%COMP%]   .questao-resposta[_ngcontent-%COMP%]{color:#667eea;font-size:.9em;grid-column:2/3}.questao-item[_ngcontent-%COMP%]   .questao-tempo[_ngcontent-%COMP%]{text-align:center;color:#ff9800;font-weight:700;grid-column:3/4;grid-row:1/2}.questao-item[_ngcontent-%COMP%]   .questao-status[_ngcontent-%COMP%]{font-size:1.3em;text-align:center;grid-column:3/4;grid-row:2/3}@media (min-width: 600px){.historico-container[_ngcontent-%COMP%]{padding:15px}.historico-header[_ngcontent-%COMP%]{margin-bottom:25px}.historico-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.historico-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.05em}.vazio[_ngcontent-%COMP%]{padding:50px 30px;border-radius:18px}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3em}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:1.8em}.partida-card[_ngcontent-%COMP%]{padding:25px;margin-bottom:20px;border-radius:18px}.partida-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #00000040}.partida-header[_ngcontent-%COMP%]{margin-bottom:18px;padding-bottom:15px}.partida-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.7em}.btn-deletar[_ngcontent-%COMP%]{font-size:1.4em}.btn-deletar[_ngcontent-%COMP%]:hover{transform:scale(1.25) rotate(10deg)}.partida-info[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:20px}.info-item[_ngcontent-%COMP%]{padding:13px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9em}.info-item[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:1.05em}.partida-resultado[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:18px}.resultado-item[_ngcontent-%COMP%]{padding:18px}.resultado-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{font-size:2.3em}.resultado-item[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-size:.95em}.questoes-detalhes[_ngcontent-%COMP%]{margin-top:18px;padding-top:18px}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.1em}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{background:#f0f0f0}.questoes-lista[_ngcontent-%COMP%]{margin-top:15px;gap:10px}.questao-item[_ngcontent-%COMP%]{grid-template-columns:35px 1fr 90px 70px 35px;grid-template-rows:auto;padding:12px;font-size:.95em}.questao-item[_ngcontent-%COMP%]   .questao-numero[_ngcontent-%COMP%]{grid-row:1}.questao-item[_ngcontent-%COMP%]   .questao-pergunta[_ngcontent-%COMP%]{grid-column:2/3;grid-row:1}.questao-item[_ngcontent-%COMP%]   .questao-resposta[_ngcontent-%COMP%]{grid-column:3/4;grid-row:1;text-align:center}.questao-item[_ngcontent-%COMP%]   .questao-tempo[_ngcontent-%COMP%]{grid-column:4/5;grid-row:1}.questao-item[_ngcontent-%COMP%]   .questao-status[_ngcontent-%COMP%]{grid-column:5/6;grid-row:1;font-size:1.4em}}@media (min-width: 900px){.historico-container[_ngcontent-%COMP%]{padding:20px}.historico-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:30px}.historico-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;flex:1;order:0}.historico-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}.historico-header[_ngcontent-%COMP%]   .btn-voltar[_ngcontent-%COMP%], .historico-header[_ngcontent-%COMP%]   .btn-limpar[_ngcontent-%COMP%]{padding:12px 25px;font-size:1.1em}.historico-header[_ngcontent-%COMP%]   .btn-voltar[_ngcontent-%COMP%]:hover, .historico-header[_ngcontent-%COMP%]   .btn-limpar[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 15px #0000004d}.vazio[_ngcontent-%COMP%]{padding:60px 40px;border-radius:20px}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em}.vazio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:2em}.partida-card[_ngcontent-%COMP%]{padding:30px;margin-bottom:25px;border-radius:20px}.partida-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #0000004d}.partida-header[_ngcontent-%COMP%]{margin-bottom:20px}.partida-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em}.btn-deletar[_ngcontent-%COMP%]{font-size:1.5em}.btn-deletar[_ngcontent-%COMP%]:hover{transform:scale(1.3) rotate(10deg)}.partida-info[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px}.info-item[_ngcontent-%COMP%]{padding:15px}.info-item[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:1.1em}.partida-resultado[_ngcontent-%COMP%]{gap:15px;margin-bottom:20px}.resultado-item[_ngcontent-%COMP%]{padding:20px;border-radius:15px}.resultado-item[_ngcontent-%COMP%]   .numero[_ngcontent-%COMP%]{font-size:2.5em}.resultado-item[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-size:1em}.questoes-detalhes[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px}.questoes-detalhes[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.2em}.questao-item[_ngcontent-%COMP%]{grid-template-columns:40px 1fr 100px 80px 40px;padding:12px;font-size:1em}.questao-item[_ngcontent-%COMP%]   .questao-status[_ngcontent-%COMP%]{font-size:1.5em}}"]})};export{z as HistoricoComponent};
